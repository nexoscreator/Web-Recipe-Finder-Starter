import{config as e}from"../api/config.js";async function fetchRecipes(t){try{let r=await fetch(`${e.apiUrl}/findByIngredients?ingredients=${t}&apiKey=${e.apiKey}`);if(!r.ok){let i=await r.json();throw Error(i.message)}let n=await r.json();return n}catch(a){let s="An unexpected error occurred.";if(a.message)s=a.message;else if(a.response&&a.response.status)switch(a.response.status){case 400:s="Bad request. Please check your input.";break;case 401:s="Unauthorized. Please check your API key.";break;case 404:s="Recipes not found. Please try different ingredients.";break;case 500:s="Server error. Please try again later.";break;default:s="Something went wrong. Please try again."}return console.error("Error fetching recipes:",a),alert(s),null}}function displayRecipes(e){let t=document.getElementById("recipe-results");t.innerHTML="",e&&e.length>0?e.forEach(e=>{let r=document.createElement("div");r.classList.add("recipe-card");let i=document.createElement("img");i.src=e.image,r.appendChild(i);let n=document.createElement("div");n.classList.add("recipe-info"),r.appendChild(n);let a=document.createElement("h2");a.textContent=e.title,n.appendChild(a);let s=document.createElement("a");s.href=`recipe.html?id=${e.id}`,s.textContent="View Details",n.appendChild(s);let l=document.createElement("ul");e.usedIngredients.forEach(e=>{let t=document.createElement("li");t.textContent=e.originalString,l.appendChild(t)}),r.appendChild(l),t.appendChild(r)}):(feedbackMessage.textContent="No recipes found. Please try different ingredients.",t.appendChild(feedbackMessage))}export{fetchRecipes,displayRecipes};